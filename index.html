<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Love</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .section {
            min-height: 100vh;
            padding: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Floating hearts animation */
        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            color: rgba(255, 192, 203, 0.7);
            animation: float 6s infinite ease-in-out;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Hero section */
        .hero {
            text-align: center;
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e, #ffa8a8);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="stars" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23stars)"/></svg>');
            animation: sparkle 3s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease-out;
        }

        .hero p {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        /* Counter section */
        .counter-section {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            text-align: center;
        }

        .counter-container {
            max-width: 800px;
            width: 100%;
        }

        .counter-title {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .counter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .counter-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }

        .counter-item:hover {
            transform: translateY(-10px);
        }

        .counter-number {
            font-size: 3rem;
            font-weight: bold;
            display: block;
            margin-bottom: 0.5rem;
        }

        .counter-label {
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Messages section */
        .messages-section {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            color: #333;
            padding: 4rem 2rem;
        }

        .messages-container {
            max-width: 900px;
            width: 100%;
        }

        .message-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 3rem;
            margin: 2rem 0;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transform: translateY(50px);
            opacity: 0;
            transition: all 0.8s ease;
        }

        .message-card.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .message-card h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: #ff6b6b;
        }

        .message-card p {
            font-size: 1.3rem;
            line-height: 1.8;
            font-style: italic;
        }

        /* Photos section */
        .photos-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 4rem 2rem;
        }

        .photos-container {
            max-width: 1200px;
            width: 100%;
        }

        .photos-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .photos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            padding: 2rem 0;
        }

        .polaroid {
            background: white;
            padding: 20px 20px 60px 20px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transform: rotate(-5deg) translateY(50px);
            opacity: 0;
            transition: all 0.8s ease;
            position: relative;
        }

        .polaroid:nth-child(even) {
            transform: rotate(5deg) translateY(50px);
        }

        .polaroid.visible {
            transform: rotate(-5deg) translateY(0);
            opacity: 1;
        }

        .polaroid.visible:nth-child(even) {
            transform: rotate(5deg) translateY(0);
        }

        .polaroid:hover {
            transform: rotate(0deg) translateY(-10px) scale(1.05);
            z-index: 10;
        }

        .polaroid img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 5px;
        }

        .polaroid-caption {
            position: absolute;
            bottom: 10px;
            left: 20px;
            right: 20px;
            text-align: center;
            color: #333;
            font-size: 1rem;
            font-style: italic;
        }

        /* Audio control */
        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .audio-button {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .audio-button:hover {
            background: white;
            transform: scale(1.1);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Playlist section */
        .playlist-section {
            background: linear-gradient(135deg, #ff9a9e, #fecfef, #fecfef);
            color: #333;
            padding: 4rem 2rem;
        }

        .playlist-container {
            max-width: 1200px;
            width: 100%;
        }

        .playlist-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #ff6b6b;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .playlist-subtitle {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 3rem;
            color: #666;
            font-style: italic;
        }

        .playlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem 0;
        }

        .song-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            transform: translateY(30px);
            opacity: 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .song-card.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .song-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .song-cover {
            position: relative;
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .album-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .song-cover::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .song-cover:hover::before {
            opacity: 1;
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 2;
            opacity: 0;
        }

        .song-cover:hover .play-button {
            opacity: 1;
        }

        .play-button:hover {
            background: white;
            transform: translate(-50%, -50%) scale(1.1);
        }

        .play-button.playing {
            background: #ff6b6b;
            color: white;
            opacity: 1;
        }

        .play-icon {
            font-size: 1.5rem;
            margin-left: 3px;
        }

        .song-info {
            text-align: center;
        }

        .song-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .song-artist {
            font-size: 1rem;
            color: #666;
            margin-bottom: 1rem;
        }

        .song-memory {
            font-size: 0.9rem;
            color: #999;
            font-style: italic;
            line-height: 1.4;
        }

        /* Now Playing indicator */
        .now-playing {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 10px 15px;
            border-radius: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-size: 0.9rem;
            color: #333;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            display: none;
            z-index: 1000;
        }

        .now-playing.show {
            display: block;
            animation: fadeInUp 0.5s ease;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .counter-title {
                font-size: 2rem;
            }
            
            .counter-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .photos-grid {
                grid-template-columns: 1fr;
            }
            
            .playlist-grid {
                grid-template-columns: 1fr;
            }
            
            .playlist-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating hearts -->
    <div class="hearts" id="hearts"></div>

    <!-- Audio control -->
    <div class="audio-control">
        <button class="audio-button" onclick="toggleAudio()">🎵</button>
    </div>

    <!-- Now Playing indicator -->
    <div class="now-playing" id="nowPlaying">
        <span id="currentSong">♪ Now Playing</span>
    </div>

    <!-- Background music -->
    <audio id="bgMusic" loop>
        <source src="Maminya-Cani/videoplayback.mp3" type="audio/mpeg">
        <!-- Ganti dengan link lagu romantis Anda -->
    </audio>

    <!-- Hero Section -->
    <section class="section hero">
        <div class="hero-content">
          <h1>Happy Birthday My Love! ❤️</h1>
          <p>Selamat ulang tahun Sayangku, Cantikku, Istriku, Cintaku ❤️</p>
          <p>✨ Hari ini adalah hari Istimewa Cintakuuu ✨</p>
        </div>
      </section>
      <div class="transition-blend" style="background: linear-gradient(to bottom, #ff8e8e, #4facfe); height: 100px;"></div>

    <!-- Counter Section -->
    <section class="section counter-section">
        <div class="counter-container">
            <h2 class="counter-title">Waktu Bersama Kita 💖</h2>
            <div class="counter-grid">
                <div class="counter-item">
                    <span class="counter-number" id="months">0</span>
                    <span class="counter-label">Bulan</span>
                </div>
                <div class="counter-item">
                    <span class="counter-number" id="days">0</span>
                    <span class="counter-label">Hari</span>
                </div>
                <div class="counter-item">
                    <span class="counter-number" id="hours">0</span>
                    <span class="counter-label">Jam</span>
                </div>
                <div class="counter-item">
                    <span class="counter-number" id="minutes">0</span>
                    <span class="counter-label">Menit</span>
                </div>
                <div class="counter-item">
                    <span class="counter-number" id="seconds">0</span>
                    <span class="counter-label">Detik</span>
                </div>
            </div>
            <p style="font-size: 1.5rem; margin-top: 2rem;">
                Selamat Monthversary ke-<span id="monthversary">0</span> bulan! 🎉
            </p>
        </div>
    </section>
    <div class="transition-blend" style="background: linear-gradient(to bottom, #4facfe, #a8edea); height: 100px;"></div>

    <!-- Messages Section -->
    <section class="section messages-section">
        <div class="messages-container">
            <div class="message-card">
                <h3>Untuk Ulang Tahunmu yang Spesial 🎂</h3>
                <p>Di hari yang penuh kebahagiaan ini, Mas ingin mengucapkan selamat ulang tahun untuk orang yang telah membuat hidupnya mas lebih berwarna. Tujuan Kita ditahun ini membawa kebahagiaan, kesehatan, dan semua impian yang ingin Sayangku capai. Terima kasih telah menjadi bagian terpenting dalam hidupnya mas.</p>
            </div>

            <div class="message-card">
                <h3>Cinta yang Tak Terbatas 💕</h3>
                <p>Setiap hari bersama cintaku ini adalah anugerah yang luar biasa. Sayangku adalah alasan mengapa mas tersenyum setiap Hari, dan mengapa mas merasa bersyukur setiap malam. Cintanya mas tumbuh lebih kuat setiap harinya, seperti bunga yang terus mekar di taman hati.</p>
            </div>

            <div class="message-card">
                <h3>Kenangan Indah Bersama 🌟</h3>
                <p>Dari hari pertama kita bertemu di wang li heng hingga detik ini, setiap momen bersama sayang adalah kenangan yang ga akan pernah mas lupakan. Sayangku telah mengajari mas arti kebahagiaan, dan bagaimana rasanya memiliki seseorang yang selalu mendukung dalam setiap langkah hidup yang mas ambil.</p>
            </div>

            <div class="message-card">
                <h3>Masa Depan Bersama 🌈</h3>
                <p>Mas ga sabar untuk menghabiskan lebih banyak waktu bersama sayang, menciptakan kenangan baru, dan membangun mimpi-mimpi indah untuk masa depan kita. Dengan Sayangku, mas yakin bahwa setiap hari akan menjadi petualangan yang penuh cinta dan kebahagiaan.</p>
            </div>
        </div>
    </section>
    <div class="transition-blend" style="background: linear-gradient(to bottom, #fed6e3, #667eea); height: 100px;"></div>

    <!-- Photos Section -->
    <section class="section photos-section">
        <div class="photos-container">
            <h2 class="photos-title">Kenangan Indah Kita 📸</h2>
            <div class="photos-grid">
                <div class="polaroid">
                    <img src="Maminya-Cani/3.jpg" alt="Foto Kenangan 1">
                    <div class="polaroid-caption">Bunga After Tom Sushi Date</div>
                </div>
                <div class="polaroid">
                    <img src="Maminya-Cani/6.jpg" alt="Foto Kenangan 2">
                    <div class="polaroid-caption">Bunga Pertama di 4 bulan lalu</div>
                </div>
                <div class="polaroid">
                    <img src="Maminya-Cani/4.jpg" alt="Foto Kenangan 3">
                    <div class="polaroid-caption">Photobox pertama kali</div>
                </div>
                <div class="polaroid">
                    <img src="Maminya-Cani/2.jpg" alt="Foto Kenangan 4">
                    <div class="polaroid-caption">Cat Cafe Date</div>
                </div>
                <div class="polaroid">
                    <img src="Maminya-Cani/5.jpg" alt="Foto Kenangan 5">
                    <div class="polaroid-caption">Day One</div>
                </div>
                <div class="polaroid">
                    <img src="Maminya-Cani/1.jpg" alt="Foto Kenangan 6">
                    <div class="polaroid-caption">Day 121</div>
                </div>
            </div>
        </div>
    </section>
    <div class="transition-blend" style="background: linear-gradient(to bottom, #764ba2, #ff9a9e); height: 100px;"></div>

    <!-- Playlist Section -->
    <section class="section playlist-section">
        <div class="playlist-container">
            <h2 class="playlist-title">Lagu Favorit Kita 🎵</h2>
            <p class="playlist-subtitle">Soundtrack cinta yang selalu menemani perjalanan kita</p>
            <div class="playlist-grid">
                <div class="song-card">
                    <div class="song-cover">
                        <img src="album-cover-1.jpg" alt="Album Cover" class="album-image">
                        <div class="play-button" onclick="playSong(this)" data-song="aku-makin-cinta.mp3">
                            <span class="play-icon">▶️</span>
                        </div>
                    </div>
                    <div class="song-info">
                        <h3 class="song-title">Aku Makin Cinta</h3>
                        <p class="song-artist">Vina Panduwinata</p>
                        <p class="song-memory">Lagu yang menggambarkan perasaan kita yang makin dalam</p>
                    </div>
                </div>

                <div class="song-card">
                    <div class="song-cover">
                        <img src="album-cover-2.jpg" alt="Album Cover" class="album-image">
                        <div class="play-button" onclick="playSong(this)" data-song="aku-cinta-padamu.mp3">
                            <span class="play-icon">▶️</span>
                        </div>
                    </div>
                    <div class="song-info">
                        <h3 class="song-title">Aku Cinta Padamu</h3>
                        <p class="song-artist">Dero Sri Siti Nurhaliza</p>
                        <p class="song-memory">Lagu yang selalu kita dengar bersama</p>
                    </div>
                </div>

                <div class="song-card">
                    <div class="song-cover">
                        <img src="album-cover-3.jpg" alt="Album Cover" class="album-image">
                        <div class="play-button" onclick="playSong(this)" data-song="always-be-my-baby.mp3">
                            <span class="play-icon">▶️</span>
                        </div>
                    </div>
                    <div class="song-info">
                        <h3 class="song-title">Always Be My Baby</h3>
                        <p class="song-artist">Mariah Carey</p>
                        <p class="song-memory">Lagu yang menjadi soundtrack hubungan kita</p>
                    </div>
                </div>

                <div class="song-card">
                    <div class="song-cover">
                        <img src="album-cover-4.jpg" alt="Album Cover" class="album-image">
                        <div class="play-button" onclick="playSong(this)" data-song="sedari-dulu.mp3">
                            <span class="play-icon">▶️</span>
                        </div>
                    </div>
                    <div class="song-info">
                        <h3 class="song-title">Sedari Dulu</h3>
                        <p class="song-artist">Tompi</p>
                        <p class="song-memory">Lagu yang mengingatkan awal pertemuan kita</p>
                    </div>
                </div>

                <div class="song-card">
                    <div class="song-cover">
                        <img src="album-cover-6.jpg" alt="Album Cover" class="album-image">
                        <div class="play-button" onclick="playSong(this)" data-song="untukku.mp3">
                            <span class="play-icon">▶️</span>
                        </div>
                    </div>
                    <div class="song-info">
                        <h3 class="song-title">Untukku</h3>
                        <p class="song-artist">Chrisye</p>
                        <p class="song-memory">Lagu yang kamu dedikasikan untukku</p>
                    </div>
                </div>

                <div class="song-card">
                    <div class="song-cover">
                        <img src="album-cover-7.jpg" alt="Album Cover" class="album-image">
                        <div class="play-button" onclick="playSong(this)" data-song="if-i-aint-got-you.mp3">
                            <span class="play-icon">▶️</span>
                        </div>
                    </div>
                    <div class="song-info">
                        <h3 class="song-title">If I Ain't Got You</h3>
                        <p class="song-artist">Alicia Keys</p>
                        <p class="song-memory">Lagu yang menggambarkan betapa pentingnya kamu</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Floating hearts animation
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '💖';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 2 + 's';
            heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
            document.getElementById('hearts').appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 6000);
        }

        setInterval(createHeart, 1000);

        // Audio control
        let isPlaying = false;
        const audio = document.getElementById('bgMusic');

        function toggleAudio() {
            if (isPlaying) {
                audio.pause();
                document.querySelector('.audio-button').innerHTML = '🔇';
            } else {
                audio.play();
                document.querySelector('.audio-button').innerHTML = '🎵';
            }
            isPlaying = !isPlaying;
        }

        // Counter function
        function updateCounter() {
            const startDate = new Date('2025-03-14T00:00:00');
            const now = new Date();
            const diff = now - startDate;

            const months = Math.floor(diff / (1000 * 60 * 60 * 24 * 30.44));
            const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 30.44)) / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('months').textContent = months;
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
            document.getElementById('monthversary').textContent = months;
        }

        setInterval(updateCounter, 1000);
        updateCounter();

        // Scroll animations
        function handleScroll() {
            const messageCards = document.querySelectorAll('.message-card');
            const polaroids = document.querySelectorAll('.polaroid');
            const songCards = document.querySelectorAll('.song-card');
            
            [...messageCards, ...polaroids, ...songCards].forEach(element => {
                const rect = element.getBoundingClientRect();
                const isVisible = rect.top < window.innerHeight && rect.bottom > 0;
                
                if (isVisible) {
                    element.classList.add('visible');
                }
            });
        }

        // Playlist functionality
        let currentAudio = null;
        let currentPlayButton = null;

        function playSong(button) {
            const songFile = button.getAttribute('data-song');
            const songCard = button.closest('.song-card');
            const songTitle = songCard.querySelector('.song-title').textContent;
            const songArtist = songCard.querySelector('.song-artist').textContent;
            const nowPlayingDiv = document.getElementById('nowPlaying');
            const currentSongSpan = document.getElementById('currentSong');

            // Stop current audio if playing
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }

            // Reset previous button
            if (currentPlayButton) {
                currentPlayButton.classList.remove('playing');
                currentPlayButton.querySelector('.play-icon').textContent = '▶️';
            }

            // If clicking the same button, just stop
            if (currentPlayButton === button) {
                currentPlayButton = null;
                nowPlayingDiv.classList.remove('show');
                return;
            }

            // Play new song
            currentAudio = new Audio(songFile); // Ganti dengan path file audio Anda
            currentAudio.play().catch(e => {
                console.log('Audio play failed:', e);
                // Fallback - show visual feedback even if audio fails
            });

            // Update button state
            button.classList.add('playing');
            button.querySelector('.play-icon').textContent = '⏸️';
            currentPlayButton = button;

            // Show now playing
            currentSongSpan.textContent = `♪ ${songTitle} - ${songArtist}`;
            nowPlayingDiv.classList.add('show');

            // Handle audio end
            if (currentAudio) {
                currentAudio.addEventListener('ended', () => {
                    button.classList.remove('playing');
                    button.querySelector('.play-icon').textContent = '▶️';
                    currentPlayButton = null;
                    currentAudio = null;
                    nowPlayingDiv.classList.remove('show');
                });
            }
        }

        window.addEventListener('scroll', handleScroll);
        window.addEventListener('load', handleScroll);

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Initial load
        window.addEventListener('load', function() {
            handleScroll();
        });
    </script>
</body>
</html>
